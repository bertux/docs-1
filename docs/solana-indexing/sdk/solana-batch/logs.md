---
sidebar_position: 20
description: >-
  Subscribe to event data with addLog()
---

# Event logs

#### `addLog(options)` {#add-log}

Get event logs emitted by some _or all_ contracts in the network. `options` has the following structure:

```typescript
{
  // data requests
  programId?: Base58Bytes[]
  kind?: LogMessage['kind'][]
  //related dataretrieval
  transaction?: boolean
  instruction?: boolean
}
```

Data requests:

- `programId`: the set of addresses of contracts emitting the logs. Omit to subscribe to events from all contracts in the network.
- `kind`: the set of values of `kind`.

With `transaction = true` the processor will retrieve all parent transactions and add them to the `transactions` iterable within the [block data](/sdk/reference/processors/solana-batch/context-interfaces). Additionally it will expose them via the `.transaction` field of each log item.

Note that logs can also be requested by the [`addTransaction()`](../transactions) method as related data.

Selection of the exact data to be retrieved for each log and its optional parent transaction is done with the `setFields()` method documented on the [Field selection](../field-selection) page. Some examples are available below.

## Examples

1. Fetch all event logs emitted by Orca Whirlpool.

```ts
const dataSource = new DataSourceBuilder()
  // Provide Subsquid Network Gateway URL.
  .setGateway("https://v2.archive.subsquid.io/network/solana-mainnet")
  .setRpc(
    process.env.SOLANA_NODE == null
      ? undefined
      : {
          client: new SolanaRpcClient({
            url: process.env.SOLANA_NODE,
            // rateLimit: 100 // requests per sec
          }),
          strideConcurrency: 10,
        }
  )
  .addLog({
    where: { programId: [PYTH_PUSH_ORACLE] },
  })
  .build();
```

<!-- :::tip
Typescript ABI modules generated by [`squid-evm-typegen`[(/sdk/reference/typegen/state-queries) provide event signatures/topic0 values as constants, e.g. -->

<!-- ```ts
  import * as gravatarAbi from './abi/gravatar'
  // ...
    topic0: [
      gravatarAbi.events.NewGravatar.topic,
      gravatarAbi.events.UpdatedGravatar.topic,
    ],
  // ...
```
::: -->
